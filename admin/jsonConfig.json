{
    "i18n": false,
    "type": "tabs",
    "items": {
        "_general": {
            "type": "tab",
            "label": "General Settings",
            "items": {
                "dockerFrigate.enabled": {
                    "newLine": true,
                    "type": "checkDocker",
                    "label": "Use self-hosted Frigate in Docker",
                    "help": "docker_explanation",
                    "xs": 12
                },
                "_frigateHost": {
                    "type": "header",
                    "text": "Enter the ioBroker IP Address in the frigate config under mqtt->host",
                    "hidden": "!!data.dockerFrigate?.enabled",
                    "size": 2,
                    "xs": 12,
                    "sm": 12,
                    "md": 12,
                    "lg": 12,
                    "xl": 12,
                    "newLine": true
                },
                "friurl": {
                    "type": "text",
                    "label": "Frigate Hostname:Port",
                    "help": "(localhost:5000 or 192.168.178.100:5000)",
                    "hidden": "!!data.dockerFrigate?.enabled",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "mqttPort": {
                    "type": "number",
                    "label": "MQTT Server Port in Frigate config",
                    "help": "MQTT Server Port in Frigate config",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "webnum": {
                    "type": "number",
                    "label": "Number of last Events History frigate.0.events.history",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                }
            }
        },
        "_notification": {
            "type": "tab",
            "label": "Notification Settings",
            "items": {
                "notificationActive": {
                    "type": "checkbox",
                    "label": "Enable Notifications",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationInstances": {
                    "type": "text",
                    "label": "Instances to notify",
                    "help": "Comma separated",
                    "hidden": "!data.notificationActive",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationUsers": {
                    "type": "text",
                    "label": "Optional: Users to notify",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "help": "Comma separated",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventSnapshot": {
                    "type": "checkbox",
                    "label": "Send snapshot from event end",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventSnapshotStart": {
                    "type": "checkbox",
                    "label": "Send snapshot from event start",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventSnapshotUpdateOnce": {
                    "type": "checkbox",
                    "label": "If no start snapshot send then send one update snapshot instead",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventSnapshotUpdate": {
                    "type": "checkbox",
                    "label": "Send snapshot from event update",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventClip": {
                    "type": "checkbox",
                    "label": "Send Clip from event end",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventClipLink": {
                    "type": "checkbox",
                    "label": "Send only Clip Url from event end",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationEventClipWaitTime": {
                    "type": "number",
                    "label": "Wait time after Events end for Clip creation in seconds",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                },
                "notificationMinScore": {
                    "type": "number",
                    "label": "Minimum Event Score 0.1-1.0 to notify. 0 = Disabled.",
                    "help": "Minimum Event Score 0.1-1.0 to notify. 0 = Disabled. Camera specific: frigate.0.remote.notificationMinScore",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "placeholder": "0.5",
                    "newLine": true
                },
                "notificationTextTemplate": {
                    "type": "text",
                    "label": "Notification Text Template",
                    "help": "Camera specific: frigate.0.remote.notificationTextTemplate",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "placeholder": "{{source}} {{type}} detected {{status}} {{score}} {{state}}",
                    "newLine": true
                },
                "notificationExcludeList": {
                    "type": "text",
                    "label": "Exclude cameras from notification",
                    "help": "Comma separated",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "placeholder": "camera1,camera2",
                    "newLine": true
                },
                "notificationExcludeZoneList": {
                    "type": "text",
                    "label": "Exclude zones from notification",
                    "help": "Comma separated",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "placeholder": "zone1,zone2",
                    "newLine": true
                },
                "notificationExcludeEmptyZoneList": {
                    "type": "text",
                    "label": "Don't send notification when zone list of the event is empty for this cameras",
                    "help": "Comma separated",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "placeholder": "camera1,camera2",
                    "newLine": true
                },
                "notificationCamera": {
                    "type": "checkbox",
                    "label": "Send detailed object snapshot",
                    "hidden": "!data.notificationActive || !data.notificationInstances",
                    "xs": 12,
                    "sm": 12,
                    "md": 6,
                    "lg": 4,
                    "xl": 4,
                    "newLine": true
                }
            }
        },
        "dockerFrigate": {
            "type": "panel",
            "label": "Frigate Docker",
            "hidden": "!data.dockerFrigate.?enabled",
            "items": {
                "dockerFrigate.bind": {
                    "newLine": true,
                    "listenOnAllPorts": true,
                    "type": "ip",
                    "label": "Start container on IP",
                    "sm": 12,
                    "md": 8
                },
                "dockerFrigate.port": {
                    "type": "port",
                    "label": "Port",
                    "help": "The port on which the container will be reachable on localhost",
                    "default": 5000,
                    "sm": 12,
                    "md": 4
                },
                "dockerFrigate.stopIfInstanceStopped": {
                    "newLine": true,
                    "type": "checkbox",
                    "label": "Stop container when instance stops",
                    "sm": 12,
                    "md": 6
                },
                "dockerFrigate.autoImageUpdate": {
                    "type": "checkbox",
                    "label": "Auto-update Docker image",
                    "help": "If enabled, the latest Docker image will be pulled when the adapter starts.",
                    "sm": 12,
                    "md": 6
                },
                "dockerFrigate.shmSize": {
                    "newLine": true,
                    "type": "number",
                    "label": "Temp directory size",
                    "help": "MB",
                    "xs": 12
                },
                "dockerFrigate.location": {
                    "newLine": true,
                    "type": "text",
                    "label": "Frigate directory location",
                    "help": "As frigate saves a large amount of data, it is recommended to use a separate directory or disk for it.",
                    "xs": 12
                },
                "dockerFrigate.detectors": {
                    "newLine": true,
                    "type": "select",
                    "label": "Detectors",
                    "options": [
                        {
                            "value": "cpu",
                            "label": "CPU"
                        },
                        {
                            "value": "coral",
                            "label": "Google Coral"
                        }
                    ],
                    "help": "The type of detectors to use. CPU is the default and works without additional hardware, but may have higher CPU usage. Google Coral is an optional hardware accelerator that can significantly reduce CPU usage if supported.",
                    "xs": 12
                },
                "dockerFrigate.detectorsCoralType": {
                    "newLine": true,
                    "type": "select",
                    "label": "Coral Type",
                    "options": [
                        {
                            "value": "usb",
                            "label": "USB"
                        },
                        {
                            "value": "pci",
                            "label": "PCIe"
                        }
                    ],
                    "help": "The type of Google Coral accelerator to use. USB is the most common and compatible option, while PCIe may offer better performance but requires a compatible motherboard and additional setup.",
                    "hidden": "data.dockerFrigate.detectors !== 'coral'",
                    "xs": 12
                },
                "dockerFrigate.face_recognition.enabled": {
                    "newLine": true,
                    "type": "checkbox",
                    "label": "Enable face recognition",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.face_recognition.model_size": {
                    "type": "select",
                    "label": "Face recognition model size",
                    "options": [
                        {
                            "value": "small",
                            "label": "Small (faster, less accurate)"
                        },
                        {
                            "value": "medium",
                            "label": "Medium (balanced speed and accuracy)"
                        },
                        {
                            "value": "large",
                            "label": "Large (slower, more accurate)"
                        }
                    ],
                    "tooltip": "The size of the face recognition model to use. Small is faster but less accurate, while large is slower but more accurate. Medium is a balanced option that may work well for most users.",
                    "hidden": "!data.dockerFrigate.face_recognition.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.face_recognition.min_area": {
                    "type": "number",
                    "label": "Minimum area for face recognition",
                    "tooltip": "The minimum area (in pixels) of a detected object for face recognition to be applied. Setting this can help reduce false positives by ignoring small objects that are unlikely to be faces.",
                    "hidden": "!data.dockerFrigate.face_recognition.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.record.enabled": {
                    "newLine": true,
                    "type": "checkbox",
                    "label": "Enable recording",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.record.pre_capture": {
                    "type": "number",
                    "label": "Pre-capture recording time in seconds",
                    "tooltip": "The amount of time (in seconds) to include in the recording before the event is triggered. This can help capture important context leading up to the event.",
                    "hidden": "!data.dockerFrigate.record.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.record.post_capture": {
                    "type": "number",
                    "label": "Post-capture recording time in seconds",
                    "tooltip": "The amount of time (in seconds) to include in the recording after the event is triggered. This can help capture important context following the event.",
                    "hidden": "!data.dockerFrigate.record.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.record.max_clip_length": {
                    "type": "number",
                    "label": "Maximum clip length in seconds",
                    "tooltip": "The maximum length of recorded clips in seconds. Setting this can help manage storage usage by limiting the duration of recorded events.",
                    "hidden": "!data.dockerFrigate.record.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.record.retain_days": {
                    "type": "number",
                    "label": "Days to retain recordings",
                    "tooltip": "The number of days to retain recorded clips. Setting this can help manage storage usage by automatically deleting older recordings.",
                    "hidden": "!data.dockerFrigate.record.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.enabled": {
                    "newLine": true,
                    "type": "checkbox",
                    "label": "Enable object detection",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.width": {
                    "type": "number",
                    "label": "Detection width",
                    "tooltip": "The width (in pixels) to which the input frames will be resized for object detection. Setting this can help improve performance by reducing the resolution of the input frames, but may also reduce detection accuracy if set too low.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.height": {
                    "type": "number",
                    "label": "Detection height",
                    "tooltip": "The height (in pixels) to which the input frames will be resized for object detection. Setting this can help improve performance by reducing the resolution of the input frames, but may also reduce detection accuracy if set too low.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.confidence_threshold": {
                    "type": "number",
                    "label": "Detection confidence threshold",
                    "tooltip": "The confidence threshold for object detection. Setting this can help reduce false positives by ignoring detections with low confidence scores.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.nms_threshold": {
                    "type": "number",
                    "label": "Detection NMS threshold",
                    "tooltip": "The non-maximum suppression (NMS) threshold for object detection. Setting this can help reduce false positives by suppressing overlapping detections of the same object.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.max_objects": {
                    "type": "number",
                    "label": "Maximum number of objects to detect per frame",
                    "tooltip": "The maximum number of objects that will be detected in each frame. Setting this can help manage performance by limiting the number of detections, but may also result in missed detections if set too low.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.detect.fps": {
                    "type": "number",
                    "label": "Detection FPS",
                    "tooltip": "The target frames per second (FPS) for object detection. Setting this can help manage performance by controlling the frequency of detection, but may also result in missed detections if set too low.",
                    "hidden": "!data.dockerFrigate.detect.enabled",
                    "xs": 12,
                    "md": 4
                },
                "dockerFrigate.configType": {
                    "type": "select",
                    "label": "Frigate configuration type",
                    "options": [
                        {
                            "value": "yaml",
                            "label": "YAML configuration file"
                            },
                        {
                            "value": "ui",
                            "label": "Configure via UI"
                        }
                    ],
                    "help": "Choose how to configure Frigate. The YAML configuration file option allows you to provide a custom configuration file, while the UI option provides a user-friendly interface for configuring Frigate without needing to edit YAML files directly.",
                    "xs": 12
                },
                "dockerFrigate.yaml": {
                    "hidden": "data.dockerFrigate.configType !== 'yaml'",
                    "type": "text",
                    "label": "Frigate YAML configuration",
                    "multiline": true,
                    "xs": 12
                },
                "dockerFrigate.cameras": {
                    "hidden": "data.dockerFrigate.configType !== 'ui'",
                    "type": "table",
                    "label": "Cameras configuration",
                    "xs": 12,
                    "items": [
                        {
                            "attr": "name",
                            "label": "Name",
                            "type": "text"
                        },
                        {
                            "attr": "inputs_path",
                            "label": "Camera Input Path",
                            "type": "text"
                        },
                        {
                            "attr": "ffmpeg_hwaccel_args",
                            "label": "FFMPEG Input",
                            "type": "text"
                        },
                        {
                            "attr": "inputs_roles_detect",
                            "label": "Object Detection",
                            "type": "checkbox"
                        },
                        {
                            "attr": "inputs_roles_record",
                            "label": "Recoding",
                            "type": "checkbox"
                        },
                        {
                            "attr": "inputs_roles_snapshots",
                            "label": "Snapshots",
                            "type": "checkbox"
                        }
                    ]
                }
            }
        }
    }
}
